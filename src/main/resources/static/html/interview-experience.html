<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>面经</title>
    <link rel="stylesheet" href="../css/experience.css">
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <link rel="stylesheet" href="/css/search-style.css">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">
</head>
<body>

<script src="https://cdn.pipilong.com.cn/js/vue.js"></script>
<script src="https://unpkg.com/element-ui/lib/index.js"></script>
<script src="https://cdn.pipilong.com.cn/js/axios-0.18.0.js"></script>

<div id="app">

    <el-container>
        <el-header style="background-color: #ffffff;margin-top: -8px;">
            <!--            <div class="hr-double"></div>-->
            <el-row class="row">
                <el-col :span="1">
                    <div></div>
                </el-col>
                <el-col :span="2">
                    <div>
                        <a href="../index.html">
                            <img src="https://cdn.pipilong.com.cn/logo.png" class="logo" alt=""/>
                        </a>
                    </div>
                </el-col>
                <el-col :span="2">
                    <div>
                        <a href="../index.html" class="home-page-style1 head_icon">
                            <div style="float: left;margin-top: 21px;padding-left: 54px;"><img src="https://cdn.pipilong.com.cn/svg/home.svg" width="19px;"></div>
                            <div style="float: right;margin-top: -38px;padding-right: 6px;">首页</div></a>
                    </div>
                </el-col>
                <el-col :span="2">
                    <div>
                        <a href="./interview-experience.html" class="home-page-style1 head_icon">
                            <div style="float: left;margin-top: 21px;padding-left: 50px;"><img src="https://cdn.pipilong.com.cn/svg/book.svg" width="19px;"></div>
                            <div style="float: right;margin-top: -38px;padding-right: 10px;">面经</div></a>
                    </div>
                </el-col>
                <el-col :span="8">
                    <div>
                        <el-input v-model="search" placeholder="Enter Your Search Content" class="txtb">
                            <template #suffix>
                                <el-button icon="el-icon-search" circle></el-button>
                            </template>
                        </el-input>
                    </div>
                </el-col>
                <el-col :span="2">

                    <div>
                        <a href="./java.html" class="home-page-style1 head_icon">
                            <div style="float: left;margin-top: 19px;padding-left: 10px;"><img src="https://cdn.pipilong.com.cn/svg/java.svg" width="19px;"></div>
                            <div style="float: right;margin-top: -38px;padding-right: 34px;">八股文</div></a>
                    </div>
                </el-col>
                <el-col :span="2">

                    <div>
                        <a href="./message.html" class="home-page-style1 head_icon">
                            <div style="float: left;margin-top: 20px;padding-left: 20px;"><img src="https://cdn.pipilong.com.cn/svg/message.svg" width="19px;"></div>
                            <div style="float: right;margin-top: -38px;padding-right: 40px;">消息</div></a>
                    </div>

                </el-col>
                <el-col :span="2">
                    <div>
                        <el-dropdown :hide-on-click="false" show-timeout="0" hide-timeout="100">
                            <span class="el-dropdown-link">
                                网站相关
                                <i class="el-icon-arrow-down el-icon--right"></i>
                            </span>
                            <el-dropdown-menu slot="dropdown">
                                <el-dropdown-item>
                                    <i class="el-icon-s-custom"></i>
                                    <a href="https://cos.pipilong.com.cn/作者介绍.html" class="home-page-style5" target="_blank">作者介绍</a>
                                </el-dropdown-item>
                                <el-dropdown-item>
                                    <i class="ri-booklet-fill"></i>
                                    网站日志
                                </el-dropdown-item>
                                <el-dropdown-item>
                                    <i><img src="https://cdn.pipilong.com.cn/svg/github.svg" width="15px;" alt=""/></i>
                                    <a href="https://github.com/pipilongstar/PipilongPersonalBlog" target="_blank"
                                       class="home-page-style5">项目源码</a>
                                </el-dropdown-item>
                                <el-dropdown-item>
                                    <i><img src="https://cdn.pipilong.com.cn/svg/gitee.svg" width="14px;" alt=""/></i>
                                    <a href="https://gitee.com/pipilongstar/PipilongPersonalBlog" target="_blank"
                                       class="home-page-style5">项目源码</a>
                                </el-dropdown-item>
                            </el-dropdown-menu>
                        </el-dropdown>
                    </div>
                </el-col>

                <el-col :span="3">
                    <div v-if="!isLogin">
                        <a href="./login.html" target="_blank">
                            <el-button round type="primary" class="login_button--primary">登录/注册</el-button>
                        </a>
                    </div>
                    <div v-if="isLogin">

                        <div style="margin-top: 13px;">
                            <a href="./personal-center.html" target="_blank" @mouseover="avatarShow"
                               @mouseleave="avatarShut">
                                <el-avatar shape="circle" :size="40" :fit="fit" :src="avatarUrl"
                                           class="avatar-style"></el-avatar>
                            </a>
                        </div>

                        <!--                        鼠标悬停头像小卡片-->
                        <el-collapse-transition>
                            <div v-show="isAvatarShow" class="isAvatarShow_style" @mouseover="avatarShow"
                                 @mouseleave="avatarShut">
                                <el-card shadow="always" style="height: 220px;width: 190px;border-radius: 16px;">
                                    <a href="./personal-center.html" target="_blank">
                                        <div style="margin-top: -5px;">
                                            <el-avatar :src="avatarUrl"
                                                       :size="60"></el-avatar>
                                        </div>
                                    </a>
                                    <div style="margin-top: -50px;">
                                        <span v-if="username.length===0" style="color: #dc6a6a;"><h3>还没有名称哦！</h3></span>
                                        <span v-if="username.length<=7&&username.length>0">
                                            <h3>{{username}}</h3>
                                        </span>
                                        <span v-if="username.length>7">
                                            <h3>{{username.substring(0,7)}}...</h3>
                                        </span>
                                    </div>

                                    <div style="margin-top: -28px;margin-left: -26px;">
                                        <el-button type="primary" plain class="avatar_card_item--primary" @click="openPersonalSettings">
                                            <div style="font-size: 18px;float: left;margin-left: 14px;">
                                                <i class="ri-user-settings-line"></i>
                                            </div>
                                            <div style="float: right;margin-right: 48px;font-size: 15px;margin-top: 4px;">
                                                个人设置
                                            </div>
                                        </el-button>
                                    </div>

                                    <div style="margin-left: -26px;margin-top: -6px;">
                                        <el-button type="primary" plain class="avatar_card_item--primary" @click="logout">
                                            <div style="font-size: 18px;float: left;margin-left: 14px;">
                                                <i class="ri-arrow-left-circle-line"></i>
                                            </div>
                                            <div style="float: right;margin-right: 48px;font-size: 15px;margin-top: 4px;">
                                                退出登录
                                            </div>
                                        </el-button>
                                    </div>
                                    <!--                                    <a href="#">-->
                                    <!--                                        <div class="avatar_card_item">-->
                                    <!--                                            退出登录-->
                                    <!--                                        </div>-->
                                    <!--                                    </a>-->
                                </el-card>
                            </div>
                        </el-collapse-transition>

                    </div>
                </el-col>
            </el-row>

        </el-header>
        <!--        中部-->
        <el-container>
            <!--            左侧-->
            <el-aside width="270px" style="background-color: #f8f8f8">

                <div style="margin-top: 120px;">
                    <img src="https://cdn.pipilong.com.cn/svg/experience1.svg" width="230px;">
                </div>

            </el-aside>
            <el-container>
                <!--                主-->
                <el-main style="background-color: #f8f8f8">

                    <div style="line-height: 3">
                        <el-tag
                                v-for="tag in tags"
                                :key="tag"
                                type="success"
                                @click="searchTag(tag)"
                                style="margin-left: 5px;cursor:pointer;">
                            {{tag}}
                        </el-tag>
                    </div>
                    <div style="height: 10px;"></div>

                    <div v-for="(item,index) in tableData" style="text-decoration: none;cursor:pointer;">
                        <el-card shadow="none" class="card_discuss" style="line-height: 2">
                            <div>
                                <el-col :span="24" style="text-align: left;margin-top: -28px;">
                                    <h4>{{item.theme}}</h4>
                                </el-col>
                            </div>

                            <div>
                                <p style="float: left;color: #7c7b7b;font-size: 14px;line-height: 1.4;text-align:left;margin-top: -20px;">
                                    {{item.text.substring(0,95)}}
                                    <span v-show="item.text.length>=95">...</span>
                                </p>
                            </div>

                            <div>
                                <el-col :span="24">
                                    <div style="float: left;margin-top: -28px;margin-bottom: 8px;">
                                        <el-tag
                                                v-for="tag in item.label"
                                                :key="tag"
                                                type="warning"
                                                size="small"
                                                style="margin-top: 30px;border-radius: 25px;margin-left: 5px;">
                                            {{tag}}
                                        </el-tag>
                                    </div>
                                </el-col>
                            </div>

                        </el-card>
                        <div style="height: 10px;"></div>
                    </div>

                    <div v-show="this.tableData.length<=0" style="">
                        <el-empty style="height: 700px" image="https://cdn.pipilong.com.cn/svg/empty.svg"></el-empty>
                    </div>

                    <div style="margin-top: -36px;" v-show="this.tableData.length>0">
                        <el-button type="primary" @click="add_tableData" class="add_tableData_button--primary">
                            加载更多
                        </el-button>
                    </div>

                </el-main>
            </el-container>
            <!--            右侧-->
            <el-aside width="370px" style="background-color: #f8f8f8">

                <div style="padding-left: 34px;padding-top: 126px;">
                    <el-card shadow="always" style="border-radius: 20px;width: 240px;box-shadow: 0 0 6px rgb(234,112,112);">
                        <div style="margin-top: -110px;background-color: #f38f99;margin-left: -170px;width: 400px;height: 120px;">
                            <h4>全站热榜</h4>
                        </div>
                        <div style="height: 6px;"></div>

                        <div v-for="(item,index) in hotList" style="margin-left: -20px;line-height: 0.7;" @click="enterDiscuss(item)">
                            <el-button type="primary" plain class="hot_item">
                                <el-row>
                                    <el-col :span="2" style="margin-left: -5px;">
                                        <img :src="item.indexUrl" width="16px;" style="float: left;margin-top: 4px;margin-left: -5px;">
                                    </el-col>
                                    <el-col :span="4" style="">
                                        <el-avatar :size="25" :src="item.userAvatarUrl" style="float: left;margin-left: 4px;"></el-avatar>
                                    </el-col>
                                    <el-col :span="4">
                                        <p style="text-align: left;line-height: 2px;margin-left: 7px;font-size: 14px;">{{item.theme}}</p>
                                    </el-col>
                                </el-row>
                            </el-button>
                        </div>

                        <div style="margin-bottom: -16px;"></div>

                    </el-card>
                </div>

                <!--                回到顶部-->
                <el-backtop :bottom="150" visibility-height="140" :right="180" style="width: 50px;">
                    <div style="{
                                height: 100%;
                                width: 100%;
                                background-color: #f2f5f6;
                                box-shadow: 0 0 6px rgb(16,178,160);
                                text-align: center;
                                line-height: 50px;
                                color: #10b2a0;
                                border-radius: 16px;
                                }">
                        <div style="font-size: 30px;">
                            <i class="ri-rocket-2-fill"></i>
                        </div>
                    </div>
                </el-backtop>

            </el-aside>
        </el-container>
        <!--        脚部-->
        <el-footer height="40px" style="background-color: #f8f8f8">
            <div style="margin-top: -32px">
                <h5>Copyright © 2023 Pipilong. 皮皮龙技术分享 版权所有 <a href="https://beian.miit.gov.cn/"
                                                                          target="_blank" class="footer-style">皖ICP备2023001037号-1</a>
                </h5>
            </div>
        </el-footer>

    </el-container>

</div>

<script>

    const service = axios.create({
        withCredentials: true, // 跨域请求时发送Cookie
        timeout: 60000, // 请求超时
    });

</script>

<script>

    new Vue({
        el: "#app",

        mounted() {

            service.get("https://www.pipilong.com.cn/verification/isLogin").then(res => {
                this.user_id = res.data;
                this.avatarUrl = "https://cos.pipilong.com.cn/UserAvatar/" + this.user_id +".jpg";
                this.isLogin = true;

                service.get("https://www.pipilong.com.cn/user/getprofile").then(res=>{
                    this.username=res.data.username;
                }).catch(error=>{
                    this.$message.error('登录异常，请重新登录！');
                });
            });

            service.get("https://www.pipilong.com.cn/query/rankingList").then(res=>{
                this.hotList=res.data;
                this.hotList.forEach((item,index)=>{
                    Object.assign(item,{'indexUrl':'https://cdn.pipilong.com.cn/svg/数字'+(index+1)+'.svg'});
                });
                console.info(this.hotList);
            });

        },

        methods: {
            login() {
                this.dialogVisibleLogin = true;
            },
            tableRowClassName({row, rowIndex}) {
                if (rowIndex === 1) {
                    return 'warning-row';
                } else if (rowIndex === 3) {
                    return 'success-row';
                }
                return '';
            },
            avatarShow() {
                this.isAvatarShow = true;
            },
            avatarShut() {
                this.isAvatarShow = false;
            },
            openPersonalSettings(){
              window.open('./personal-settings.html');
            },
            logout(){

            },
            searchTag(tag){
                let url = encodeURI('./search-page.html?query='+tag);
                window.open(url);
            },
            enterDiscuss(item){
                let url='./discuss.html?id=' + item.discussId;
                window.open(url);
            },
        },

        data() {
            return {
                search: '',
                isLogin: false,
                avatarUrl: '',
                fit: 'fill',
                reference: false,
                dialogVisibleLogin: false,
                isAvatarShow: false,
                username: 'pipilong',
                tags: ['阿里巴巴','腾讯','百度','京东','美团','字节跳动','寻梦','网易','快手','360','小米','腾讯音乐','五八',
                '新浪','好未来','贝壳','爱奇艺','携程','搜狐','车之家'],
                tableData: [],
                hotList: [],
            }
        }
    });
</script>

</body>
</html>